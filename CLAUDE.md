了解しました。
「**メタバース空間で動作するプランニングポーカー**」を開発する方向で進めましょう。以下では、メタバース対応を前提にしたプロダクトの**仕様設計・技術構成・ユーザー体験**を明確にしながら、エンジニア2人の体制で実装を進めるスタイルを維持します。

---

## 🌐 メタバース対応：プランニングポーカー「**MetaPoker**」プロジェクト

---

### 🎯 **目的**

* Webベースのメタバース空間内で、スクラム開発に使える「プランニングポーカー」を実現する
* リモートでも没入感あるコラボレーションを提供
* VR/MRデバイス（Meta Quest、ブラウザ、PC）で操作可能

---

## 💡 機能要件（MVP）

| 機能         | 内容                                       |
| ---------- | ---------------------------------------- |
| 3D空間ルーム    | ユーザーが同じ仮想空間に入る（A-Frame＋WebRTC/WebSocket） |
| アバター参加     | 各プレイヤーはアバターで参加（カメラ位置ベース or 3Dモデル）        |
| カード選択UI    | 1, 2, 3, 5, 8, 13, 21, ? のカードを3Dで表示・選択可能 |
| 投票ロジック     | 各プレイヤーがカードを選ぶとサーバーに送信され、全員投票で一斉公開        |
| タイマー表示（任意） | 制限時間を設けることでダレを防止                         |
| ストーリー共有UI  | スプリント中のストーリー番号・内容が表示されるスペース              |
| マルチデバイス対応  | PC/VR 両対応（モバイルはオプション）                    |

---

## 🏗 技術構成

| 項目       | 技術                                               |
| -------- | ------------------------------------------------ |
| フロント     | A-Frame（WebXR）、Three.js、HTML/CSS                 |
| リアルタイム通信 | WebSocket（Socket.io）                             |
| バックエンド   | Node.js + Express                                |
| ユーザー管理   | 仮の名前入力 or UUID割り振り                               |
| デプロイ     | Vercel / Render（バックエンド） + Firebase Hosting（フロント） |
| オプション    | AgoraやLiveKitで音声共有機能追加可能（今後のフェーズで）               |

---

## 🧑‍💻 実装スタイル（エンジニア2人体制）

* **エンジニアA**：構造設計・通信ロジック・WebSocket構築
* **エンジニアB**：UI/UX、A-Frame設計、アバター & カードUI調整

---

### 🎮 ユーザーフロー（MVP）

1. アクセスしてニックネームを入力
2. ルームに参加（WebSocket）
3. メタバース空間にアバターで入室
4. ストーリーと共にカードが表示される
5. 各プレイヤーがカードをクリック／選択
6. 全員が投票完了すると自動で全カードが一斉に公開される
7. チームで見積もりの平均や合意形成をする

---

### 🧪 開発ステップ案（スプリント形式）

| スプリント    | 内容                          |
| -------- | --------------------------- |
| Sprint 1 | A-Frame空間構築 + アバター移動        |
| Sprint 2 | 投票カードの3D UI実装 + WebSocket接続 |
| Sprint 3 | 投票ロジック + 一斉公開処理             |
| Sprint 4 | UI整備 + テスト導入 + ルーム機能        |
| Sprint 5 | パフォーマンス調整 + デプロイ + ユーザーテスト  |

---

## 📐 A-Frame空間UI（設計イメージ）

```
+------------------------------------------------------+
|    [ ストーリーボード：#23「ログインエラー修正」 ]     |
|                                                      |
|       ◯ ◯ ◯  (ユーザーのアバターが空間に浮かぶ)        |
|                                                      |
|    [1] [2] [3] [5] [8] [13] [21] [?] （カードが円状）     |
|                                                      |
|         タイマー：0:45                               |
+------------------------------------------------------+
```

---

## ✅ 次にやること（エンジニア）

### エンジニアA：

* [ ] `server.js` で WebSocket ベースのルームロジック構築
* [ ] プレイヤー状態（vote, name, connection）管理
* [ ] 投票完了判定と一斉公開処理実装

### エンジニアB：

* [ ] A-Frame で円状にカードを配置するUI作成
* [ ] アバターと名前ラベル表示
* [ ] クリック or 視線でのカード選択実装

---

## 🚀 今後拡張予定（フェーズ2）

* ボイスチャット連携（Agora / WebRTC）
* Firebase Auth連携（ログイン・ルーム保存）
* ストーリーのインポート（JiraやNotionなどとの連携）
* VRデバイス最適化（Quest2/Quest3）

---

**要望があれば、このまま `A-Frame` の初期コード（HTML & JS）を書き起こしていきます。**
必要であれば「アバターの座標配置＋カードUI配置」からスタートできます。進めますか？
